- id: front_stoop_motion
  alias: Ring Motion - Front Stoop Light
  trigger:
    - platform: state
      entity_id: binary_sensor.front_door_motion
      to: 'on'
    - platform: state
      entity_id: binary_sensor.front_door_motion
      to: 'off'
      for: '00:01:00'

  condition:
    - condition: sun
      after: sunset
      before: sunrise

  action:
    - choose:
        - conditions:
            - condition: state
              entity_id: binary_sensor.front_door_motion
              state: 'on'
          sequence:
            - service: light.turn_on
              target:
                entity_id: light.front_stoop
              data:
                brightness: 200
                color_name: warm_white
        - conditions:
            - condition: state
              entity_id: binary_sensor.front_door_motion
              state: 'off'
          sequence:
            - service: light.turn_off
              target:
                entity_id: light.front_stoop
  mode: restart
